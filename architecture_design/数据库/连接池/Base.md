# 背景

数据库连接的建立是一种耗时长、性能低、代价高的操作，频繁的建立和关闭会极大的影响系统的性能，再多线程并发的情况下更明显。
所以重用数据库连接最主要的原因是减少应用程序与数据库之间的创建和销毁TCP连接的开销

# 原理

再内存中开辟一片空间，将一定数量的数据库连接作为对象存储再对象池中，对外提供数据库连接的获取和归还方法


# 核心功能
- 连接池的建立（最最基本的核心功能）
- 连接池的释放（最最基本的核心功能）
- 并发（锁性能优化乃至无锁）
- 连接数控制（不同的系统对连接数有不同的需求）
- 监控（一些自身管理机制来监视连接的数量及使用情况）
- 外部配置（各种主流数据库连接池官方文档最核心的部分）
- 资源重用（数据库连接池的核心思想）
- 检测及容灾（面对一些网络、时间等问题的自愈）
- 多库多服务（不同的数据库，不同的用户，分库分表的情况）
- 事务处理（对数据库造作符合`ALL-ALL-NOTHING`原则）
- 定时任务（空闲检查、最小连接数控制）
- 缓存（如`PSCache`等避免对SQL重复解析）
- 异常处理（对JDBC访问的异常统一处理）
- 组件维护（连接状态、JDBC封装的维护）

# 新趋势
- 动态配置
- 监控
- 故障演习

# 指标
- LRU
- PSCache
- PSCache-Oracke——Optimized
- ExceptionSorter